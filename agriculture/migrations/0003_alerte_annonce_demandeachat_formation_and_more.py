# Generated by Django 5.2.7 on 2025-10-23 01:03

import django.contrib.gis.db.models.fields
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('agriculture', '0002_alter_user_department_alter_user_phone_number_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='Alerte',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type_alerte', models.CharField(choices=[('meteo', 'Météo'), ('marche', 'Marché'), ('calendrier', 'Calendrier cultural'), ('formation', 'Formation'), ('projet', 'Projet'), ('visite', 'Visite'), ('echeance', 'Échéance'), ('systeme', 'Système')], max_length=20, verbose_name="Type d'alerte")),
                ('titre', models.CharField(max_length=200, verbose_name='Titre')),
                ('message', models.TextField(verbose_name='Message')),
                ('region', models.CharField(blank=True, max_length=100, verbose_name='Région cible')),
                ('village', models.CharField(blank=True, max_length=100, verbose_name='Village cible')),
                ('urgence', models.CharField(choices=[('faible', 'Faible'), ('moyenne', 'Moyenne'), ('haute', 'Haute'), ('critique', 'Critique')], default='moyenne', max_length=20, verbose_name="Niveau d'urgence")),
                ('date_creation', models.DateTimeField(auto_now_add=True, verbose_name='Date de création')),
                ('date_expiration', models.DateTimeField(verbose_name="Date d'expiration")),
                ('is_active', models.BooleanField(default=True, verbose_name='Alerte active')),
                ('is_read', models.BooleanField(default=False, verbose_name='Alerte lue')),
                ('icon', models.CharField(default='⚠️', max_length=10, verbose_name='Icône')),
                ('couleur', models.CharField(default='warning', max_length=20, verbose_name="Couleur d'affichage")),
                ('lien_action', models.URLField(blank=True, verbose_name="Lien d'action")),
                ('donnees_meteo', models.JSONField(blank=True, null=True, verbose_name='Données météo')),
                ('donnees_marche', models.JSONField(blank=True, null=True, verbose_name='Données marché')),
            ],
            options={
                'verbose_name': 'Alerte',
                'verbose_name_plural': 'Alertes',
                'ordering': ['-urgence', '-date_creation'],
            },
        ),
        migrations.CreateModel(
            name='Annonce',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name="Titre de l'annonce")),
                ('produit', models.CharField(max_length=100, verbose_name='Produit')),
                ('type_produit', models.CharField(choices=[('produit_brut', 'Produit brut'), ('produit_transforme', 'Produit transformé'), ('intrant', 'Intrant'), ('equipement', 'Équipement'), ('service', 'Service')], default='produit_brut', max_length=20, verbose_name='Type de produit')),
                ('quantite', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Quantité disponible')),
                ('unite', models.CharField(default='kg', max_length=20, verbose_name='Unité')),
                ('prix', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire (FCFA)')),
                ('description', models.TextField(verbose_name='Description')),
                ('statut', models.CharField(choices=[('active', 'Active'), ('en_attente', 'En attente de validation'), ('vendue', 'Vendue'), ('expiree', 'Expirée'), ('annulee', 'Annulée')], default='en_attente', max_length=20, verbose_name='Statut')),
                ('contacts_recus', models.IntegerField(default=0, verbose_name='Nombre de contacts')),
                ('offres_recues', models.IntegerField(default=0, verbose_name="Nombre d'offres")),
                ('date_expiration', models.DateTimeField(blank=True, null=True, verbose_name="Date d'expiration")),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('vendeur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='annonces_vendeur', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Annonce',
                'verbose_name_plural': 'Annonces',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='DemandeAchat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantite_demandee', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Quantité demandée')),
                ('prix_propose', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Prix proposé (FCFA)')),
                ('message', models.TextField(verbose_name='Message')),
                ('statut', models.CharField(choices=[('en_attente', 'En attente'), ('acceptee', 'Acceptée'), ('refusee', 'Refusée'), ('annulee', 'Annulée')], default='en_attente', max_length=20, verbose_name='Statut')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('acheteur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='demandes_achat', to=settings.AUTH_USER_MODEL)),
                ('annonce', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='demandes', to='agriculture.annonce')),
            ],
            options={
                'verbose_name': "Demande d'achat",
                'verbose_name_plural': "Demandes d'achat",
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Formation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titre', models.CharField(max_length=200, verbose_name='Titre de la formation')),
                ('description', models.TextField(verbose_name='Description')),
                ('contenu', models.TextField(verbose_name='Contenu détaillé')),
                ('duree', models.IntegerField(verbose_name='Durée (heures)')),
                ('niveau', models.CharField(choices=[('debutant', 'Débutant'), ('intermediaire', 'Intermédiaire'), ('avance', 'Avancé'), ('expert', 'Expert')], default='debutant', max_length=20, verbose_name='Niveau')),
                ('categorie', models.CharField(choices=[('technique', 'Technique agricole'), ('gestion', "Gestion d'exploitation"), ('commercial', 'Commercialisation'), ('environnement', 'Environnement'), ('innovation', 'Innovation'), ('certification', 'Certification')], default='technique', max_length=20, verbose_name='Catégorie')),
                ('prix', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Prix (FCFA)')),
                ('certificat_disponible', models.BooleanField(default=True, verbose_name='Certificat disponible')),
                ('is_active', models.BooleanField(default=True, verbose_name='Formation active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('formateur', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='formations_enseignees', to=settings.AUTH_USER_MODEL, verbose_name='Formateur')),
            ],
            options={
                'verbose_name': 'Formation',
                'verbose_name_plural': 'Formations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='InscriptionFormation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('progression', models.IntegerField(default=0, help_text='Pourcentage de progression de 0 à 100', verbose_name='Progression (%)')),
                ('statut', models.CharField(choices=[('inscrit', 'Inscrit'), ('en_cours', 'En cours'), ('terminee', 'Terminée'), ('abandonnee', 'Abandonnée')], default='inscrit', max_length=20, verbose_name='Statut')),
                ('terminee', models.BooleanField(default=False, verbose_name='Formation terminée')),
                ('certificat_obtenu', models.BooleanField(default=False, verbose_name='Certificat obtenu')),
                ('date_inscription', models.DateTimeField(auto_now_add=True, verbose_name="Date d'inscription")),
                ('date_debut', models.DateTimeField(blank=True, null=True, verbose_name='Date de début')),
                ('date_fin', models.DateTimeField(blank=True, null=True, verbose_name='Date de fin')),
                ('notes', models.TextField(blank=True, verbose_name='Notes personnelles')),
                ('formation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inscriptions', to='agriculture.formation')),
                ('utilisateur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inscriptions_formation', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Inscription à une formation',
                'verbose_name_plural': 'Inscriptions aux formations',
                'ordering': ['-date_inscription'],
                'unique_together': {('utilisateur', 'formation')},
            },
        ),
        migrations.CreateModel(
            name='Certificat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_certificat', models.CharField(max_length=50, unique=True, verbose_name='Numéro de certificat')),
                ('date_emission', models.DateTimeField(auto_now_add=True, verbose_name="Date d'émission")),
                ('date_expiration', models.DateTimeField(blank=True, null=True, verbose_name="Date d'expiration")),
                ('fichier_pdf', models.FileField(blank=True, null=True, upload_to='certificats/', verbose_name='Fichier PDF')),
                ('is_valid', models.BooleanField(default=True, verbose_name='Certificat valide')),
                ('inscription', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='certificat', to='agriculture.inscriptionformation')),
            ],
            options={
                'verbose_name': 'Certificat',
                'verbose_name_plural': 'Certificats',
                'ordering': ['-date_emission'],
            },
        ),
        migrations.CreateModel(
            name='NotificationPreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('alertes_meteo', models.BooleanField(default=True, verbose_name='Alertes météo')),
                ('alertes_marche', models.BooleanField(default=True, verbose_name='Alertes marché')),
                ('alertes_calendrier', models.BooleanField(default=True, verbose_name='Alertes calendrier')),
                ('alertes_formation', models.BooleanField(default=True, verbose_name='Alertes formation')),
                ('alertes_projet', models.BooleanField(default=True, verbose_name='Alertes projet')),
                ('alertes_visite', models.BooleanField(default=True, verbose_name='Alertes visite')),
                ('alertes_echeance', models.BooleanField(default=True, verbose_name='Alertes échéance')),
                ('notification_email', models.BooleanField(default=True, verbose_name='Notifications par email')),
                ('notification_sms', models.BooleanField(default=False, verbose_name='Notifications par SMS')),
                ('notification_push', models.BooleanField(default=True, verbose_name='Notifications push')),
                ('frequence_alertes', models.CharField(choices=[('immediate', 'Immédiate'), ('quotidienne', 'Quotidienne'), ('hebdomadaire', 'Hebdomadaire')], default='immediate', max_length=20, verbose_name='Fréquence des alertes')),
                ('utilisateur', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='preferences_notification', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Préférence de notification',
                'verbose_name_plural': 'Préférences de notification',
            },
        ),
        migrations.CreateModel(
            name='Parcelle',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=200, verbose_name='Nom de la parcelle')),
                ('superficie', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Superficie (hectares)')),
                ('location', django.contrib.gis.db.models.fields.PointField(blank=True, null=True, srid=4326, verbose_name='Localisation GPS')),
                ('statut', models.CharField(choices=[('en_culture', 'En culture'), ('en_jachere', 'En jachère'), ('a_vendre', 'À vendre'), ('a_louer', 'À louer'), ('en_preparation', 'En préparation')], default='en_jachere', max_length=20, verbose_name='Statut')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('agriculteur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelles', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Parcelle',
                'verbose_name_plural': 'Parcelles',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Culture',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom_culture', models.CharField(max_length=100, verbose_name='Nom de la culture')),
                ('date_semis', models.DateField(verbose_name='Date de semis')),
                ('superficie', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Superficie cultivée (hectares)')),
                ('etat', models.CharField(choices=[('semis', 'Semis'), ('levee', 'Levée'), ('croissance', 'Croissance'), ('floraison', 'Floraison'), ('fructification', 'Fructification'), ('maturation', 'Maturation'), ('recolte', 'Récolte'), ('terminee', 'Terminée')], default='semis', max_length=20, verbose_name='État actuel')),
                ('prochaine_action', models.CharField(blank=True, max_length=200, verbose_name='Prochaine action')),
                ('rendement_attendu', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Rendement attendu (kg/ha)')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('parcelle', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cultures', to='agriculture.parcelle')),
            ],
            options={
                'verbose_name': 'Culture',
                'verbose_name_plural': 'Cultures',
                'ordering': ['-date_semis'],
            },
        ),
        migrations.CreateModel(
            name='Projet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=200, verbose_name='Nom du projet')),
                ('description', models.TextField(verbose_name='Description')),
                ('type_projet', models.CharField(choices=[('cooperatif', 'Coopératif'), ('communautaire', 'Communautaire'), ('recherche', 'Recherche'), ('formation', 'Formation'), ('commercial', 'Commercial'), ('infrastructure', 'Infrastructure')], default='cooperatif', max_length=20, verbose_name='Type de projet')),
                ('etape_actuelle', models.IntegerField(default=1, verbose_name='Étape actuelle')),
                ('etapes_totales', models.IntegerField(default=5, verbose_name="Nombre total d'étapes")),
                ('statut', models.CharField(choices=[('en_preparation', 'En préparation'), ('en_cours', 'En cours'), ('termine', 'Terminé'), ('suspendu', 'Suspendu'), ('annule', 'Annulé')], default='en_preparation', max_length=20, verbose_name='Statut')),
                ('budget_estime', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Budget estimé (FCFA)')),
                ('date_debut', models.DateField(blank=True, null=True, verbose_name='Date de début')),
                ('date_fin_prevue', models.DateField(blank=True, null=True, verbose_name='Date de fin prévue')),
                ('date_fin_reelle', models.DateField(blank=True, null=True, verbose_name='Date de fin réelle')),
                ('region', models.CharField(blank=True, max_length=100, verbose_name='Région')),
                ('is_public', models.BooleanField(default=True, verbose_name='Projet public')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('createur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='projets_crees', to=settings.AUTH_USER_MODEL, verbose_name='Créateur')),
            ],
            options={
                'verbose_name': 'Projet',
                'verbose_name_plural': 'Projets',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Vente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantite_vendue', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Quantité vendue')),
                ('prix_unitaire', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Prix unitaire (FCFA)')),
                ('montant_total', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Montant total (FCFA)')),
                ('statut', models.CharField(choices=[('en_cours', 'En cours'), ('terminee', 'Terminée'), ('annulee', 'Annulée')], default='en_cours', max_length=20, verbose_name='Statut')),
                ('date_vente', models.DateTimeField(auto_now_add=True, verbose_name='Date de vente')),
                ('notes', models.TextField(blank=True, verbose_name='Notes')),
                ('acheteur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ventes_acheteur', to=settings.AUTH_USER_MODEL)),
                ('annonce', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ventes', to='agriculture.annonce')),
                ('vendeur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ventes_vendeur', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Vente',
                'verbose_name_plural': 'Ventes',
                'ordering': ['-date_vente'],
            },
        ),
        migrations.CreateModel(
            name='AlerteUtilisateur',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_read', models.BooleanField(default=False, verbose_name="Alerte lue par l'utilisateur")),
                ('date_lecture', models.DateTimeField(blank=True, null=True, verbose_name='Date de lecture')),
                ('action_effectuee', models.BooleanField(default=False, verbose_name='Action effectuée')),
                ('alerte', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='utilisateurs_cibles', to='agriculture.alerte')),
                ('utilisateur', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='alertes_recues', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Alerte utilisateur',
                'verbose_name_plural': 'Alertes utilisateurs',
                'ordering': ['-alerte__date_creation'],
                'unique_together': {('alerte', 'utilisateur')},
            },
        ),
        migrations.CreateModel(
            name='ParticipationProjet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('participant', 'Participant'), ('coordinateur', 'Coordinateur'), ('expert', 'Expert'), ('observateur', 'Observateur'), ('financeur', 'Financeur')], default='participant', max_length=20, verbose_name='Rôle')),
                ('statut', models.CharField(choices=[('en_attente', 'En attente'), ('acceptee', 'Acceptée'), ('refusee', 'Refusée'), ('active', 'Active'), ('terminee', 'Terminée'), ('exclue', 'Exclue')], default='en_attente', max_length=20, verbose_name='Statut')),
                ('contribution', models.TextField(blank=True, verbose_name='Contribution')),
                ('montant_contribution', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Montant de contribution (FCFA)')),
                ('date_invitation', models.DateTimeField(auto_now_add=True, verbose_name="Date d'invitation")),
                ('date_acceptation', models.DateTimeField(blank=True, null=True, verbose_name="Date d'acceptation")),
                ('notes', models.TextField(blank=True, verbose_name='Notes')),
                ('participant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participations_projet', to=settings.AUTH_USER_MODEL)),
                ('projet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='participations', to='agriculture.projet')),
            ],
            options={
                'verbose_name': 'Participation à un projet',
                'verbose_name_plural': 'Participations aux projets',
                'ordering': ['-date_invitation'],
                'unique_together': {('projet', 'participant')},
            },
        ),
        migrations.CreateModel(
            name='EtapeProjet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.IntegerField(verbose_name="Numéro d'étape")),
                ('titre', models.CharField(max_length=200, verbose_name="Titre de l'étape")),
                ('description', models.TextField(verbose_name='Description')),
                ('date_debut_prevue', models.DateField(verbose_name='Date de début prévue')),
                ('date_fin_prevue', models.DateField(verbose_name='Date de fin prévue')),
                ('date_debut_reelle', models.DateField(blank=True, null=True, verbose_name='Date de début réelle')),
                ('date_fin_reelle', models.DateField(blank=True, null=True, verbose_name='Date de fin réelle')),
                ('is_terminee', models.BooleanField(default=False, verbose_name='Étape terminée')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('responsable', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='etapes_responsable', to=settings.AUTH_USER_MODEL, verbose_name='Responsable')),
                ('projet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='etapes', to='agriculture.projet')),
            ],
            options={
                'verbose_name': 'Étape de projet',
                'verbose_name_plural': 'Étapes de projet',
                'ordering': ['numero'],
                'unique_together': {('projet', 'numero')},
            },
        ),
    ]
